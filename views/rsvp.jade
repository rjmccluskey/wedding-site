- var error;

extends page

block pageContent
    h1.center-text So, are you in?

    form#rsvp(action='/rsvp', method='POST', class='form-custom-radio pure-form pure-form-stacked')
        label.pure-radio(for='yes')
            input#yes(type='radio', name='rsvp', value='true' checked)
            span  Yes, of course!
        label.pure-radio(for='no')
            input#no(type='radio', name='rsvp', value='')
            span  No, but I have a really good excuse!
        label(for='name')
            input#name(type='text', name='name', placeholder='Enter your name(s)', required)
        label(for='song')
            input#song(type='text', placeholder='What song do you want to dance to?', name='song')

        input.pure-input(type='submit', value='Send')

    if error
        p.error Oops! Looks like you already RSVP'd! If you need to update us on anything please email Rich at rjmccluskey@gmail.com

    p If you already RSVP'd and you are seeing this form, don't worry, you don't need to submit another one :)

append scripts
    script.
        $(function(){
            toggleYesNoOptions();
            $('#rsvp').change(toggleYesNoOptions);

            function toggleYesNoOptions() {
                var $yes = $('#yes');
                var $no = $('#no');
                var $email = $('#email');
                var $song = $('#song');

                if ($yes.is(':checked')) {
                    $song.show();
                } else if ($no.is(':checked')) {
                    $song.hide();
                }
            };
        });